package main

import (
	"log"
	"strconv"
)

//å°†å­—ç¬¦ä¸²è§£ææˆæŒ‡å®šçš„ç±»å‹
func parse() {
	log.Println(strconv.ParseBool("true"))
	log.Println(strconv.ParseComplex("10", 64))
	log.Println(strconv.ParseFloat("0.001", 64))
	log.Println(strconv.ParseInt("100", 10, 64))
	log.Println(strconv.ParseUint("200", 10, 64))
	//å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºintç±»å‹
	log.Println(strconv.Atoi("300"))
}

//å°†å…¶ä»–ç±»å‹æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
func format() {
	log.Println(strconv.FormatBool(true))
	//å°†å¤æ•°æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
	//log.Println(strconv.FormatComplex())
	/**
	0.001
	'f' è®¾ç½®æ ¼å¼
		'b' (-ddddpÂ±dddï¼ŒäºŒè¿›åˆ¶æŒ‡æ•°)
		'e'(-d.ddddeÂ±ddã€‚åè¿›åˆ¶æŒ‡æ•°DdddeÂ±dd)
		'E'(-d.ddddEÂ±dd. åè¿›åˆ¶æŒ‡æ•°ddddEÂ±dd)
		'f' (-ddd.dddd,æ²¡æœ‰æŒ‡æ•°)
		'g' ('e'è¡¨ç¤ºå¤§æŒ‡æ•°ï¼Œ'f'è¡¨ç¤ºå…¶ä»–)
		'G' ('E'è¡¨ç¤ºå¤§æŒ‡æ•°ï¼Œ'f'è¡¨ç¤ºå¤§æŒ‡æ•°)ï¼Œ
		'x'(-0xd.ddddpÂ±dddã€‚(åå…­è¿›åˆ¶åˆ†æ•°å’ŒäºŒè¿›åˆ¶æŒ‡æ•°)ï¼Œæˆ– 'X'(-0Xd.ddddPÂ±ddd(åå…­è¿›åˆ¶åˆ†æ•°å’ŒäºŒè¿›åˆ¶æŒ‡æ•°)ã€‚
	6 å°æ•°ç‚¹åä½æ•°
	64 bitSizeçš„å€¼(float32ä¸º32,float64ä¸º64)
	*/
	log.Println(strconv.FormatFloat(0.00123456789, 'f', 6, 64))
	log.Println(strconv.FormatInt(100, 10))
	log.Println(strconv.FormatUint(200, 10))
	//å°†æ•´å‹æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
	log.Println(strconv.Itoa(10))
}

////å°±æ˜¯å°†å­—ç¬¦çš„ä¸€äº›ç¬¦å·æ¥è¿˜è½¬æ¢
func quote() {

	// Quote å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²
	// å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	// â€œä¸å¯æ˜¾ç¤ºçš„å­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	//å°† s è½¬æ¢ä¸ºåŒå¼•å·å­—ç¬¦ä¸²
	log.Println(strconv.Quote("å¯¹æ¥å½“ä¸ªäººç”Ÿå‡ ä½•"))

	// QuoteRune å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²
	// â€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	//å°† r è½¬æ¢ä¸ºå•å¼•å·å­—ç¬¦
	log.Println(strconv.QuoteRune('å“ˆ'))

	// QuoteToASCII å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²
	// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	//é ASCII å­—ç¬¦å’Œä¸å¯æ‰“å°å­—ç¬¦ä¼šè¢«è½¬ä¹‰
	log.Println(strconv.QuoteToASCII("å“ˆå“ˆå“ˆ"))

	// QuoteToGraphicè¿”å›ä¸€ä¸ªåŒå¼•å·çš„Goå­—ç¬¦ä¸²å­—é¢é‡è¡¨ç¤ºsã€‚
	//è¿”å›çš„å­—ç¬¦ä¸²ä¿ç•™Unicodeå›¾å½¢å­—ç¬¦ï¼Œç”±
	// IsGraphicï¼Œæ²¡æœ‰æ”¹å˜ï¼Œä½¿ç”¨Goè½¬ä¹‰åºåˆ—(\tï¼Œ \nï¼Œ \xFFï¼Œ \u0100)
	//éå›¾å½¢å­—ç¬¦ã€‚
	//éå›¾å½¢å­—ç¬¦ä¼šè¢«è½¬ä¹‰
	log.Println(strconv.QuoteToGraphic("å“ˆå“ˆä½ å¥½"))

	// QuoteRuneToASCII å°† Unicode å­—ç¬¦è½¬æ¢ä¸ºâ€œå•å¼•å·â€å¼•èµ·æ¥çš„ ASCII å­—ç¬¦ä¸²
	// â€œé ASCII å­—ç¬¦â€å’Œâ€œç‰¹æ®Šå­—ç¬¦â€å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	log.Println(strconv.QuoteRuneToASCII('å˜¿'))

	// QuoteRuneToGraphicè¿”å›ä¸€ä¸ªå•å¼•å·çš„Goå­—ç¬¦å­—é¢è¡¨ç¤º
	//ç¬¦æ–‡ã€‚å¦‚æœç¬¦æ–‡ä¸æ˜¯Unicodeå›¾å½¢å­—ç¬¦ï¼Œ
	//æ ¹æ®IsGraphicçš„å®šä¹‰ï¼Œè¿”å›çš„å­—ç¬¦ä¸²å°†ä½¿ç”¨Goè½¬ä¹‰åºåˆ—
	// (\tï¼Œ \nï¼Œ \xFFï¼Œ \u0100)
	log.Println(strconv.QuoteRuneToGraphic('å˜'))

	// Unquote å°†â€œå¸¦å¼•å·çš„å­—ç¬¦ä¸²â€ s è½¬æ¢ä¸ºå¸¸è§„çš„å­—ç¬¦ä¸²ï¼ˆä¸å¸¦å¼•å·å’Œè½¬ä¹‰å­—ç¬¦ï¼‰
	// s å¯ä»¥æ˜¯â€œå•å¼•å·â€ã€â€œåŒå¼•å·â€æˆ–â€œåå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼ˆåŒ…æ‹¬å¼•å·æœ¬èº«ï¼‰
	// å¦‚æœ s æ˜¯å•å¼•å·å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›è¯¥è¯¥å­—ç¬¦ä¸²ä»£è¡¨çš„å­—ç¬¦
	log.Println(strconv.Unquote("\"ä½ \tå¥½\tå•Š,ä½ \tæ˜¯\tè°\""))

	// å°† s ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦â€œå–æ¶ˆè½¬ä¹‰â€å¹¶è§£ç 
	//UnquoteChar å°†å¸¦å¼•å·å­—ç¬¦ä¸²ï¼ˆä¸åŒ…å«é¦–å°¾çš„å¼•å·ï¼‰ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦â€œå–æ¶ˆè½¬ä¹‰â€å¹¶è§£ç 
	//
	// s    ï¼šå¸¦å¼•å·å­—ç¬¦ä¸²ï¼ˆä¸åŒ…å«é¦–å°¾çš„å¼•å·ï¼‰
	// quoteï¼šå­—ç¬¦ä¸²ä½¿ç”¨çš„â€œå¼•å·ç¬¦â€ï¼ˆç”¨äºå¯¹å­—ç¬¦ä¸²ä¸­çš„å¼•å·ç¬¦â€œå–æ¶ˆè½¬ä¹‰â€ï¼‰
	//
	// value    ï¼šè§£ç åçš„å­—ç¬¦
	// multibyteï¼švalue æ˜¯å¦ä¸ºå¤šå­—èŠ‚å­—ç¬¦
	// tail     ï¼šå­—ç¬¦ä¸² s è§£ç åçš„å‰©ä½™éƒ¨åˆ†
	// error    ï¼šè¿”å› s ä¸­æ˜¯å¦å­˜åœ¨è¯­æ³•é”™è¯¯
	//
	// å‚æ•° quote ä¸ºâ€œå¼•å·ç¬¦â€
	// å¦‚æœè®¾ç½®ä¸ºå•å¼•å·ï¼Œåˆ™ s ä¸­å…è®¸å‡ºç° \'ã€" å­—ç¬¦ï¼Œä¸å…è®¸å‡ºç°å•ç‹¬çš„ ' å­—ç¬¦
	// å¦‚æœè®¾ç½®ä¸ºåŒå¼•å·ï¼Œåˆ™ s ä¸­å…è®¸å‡ºç° \"ã€' å­—ç¬¦ï¼Œä¸å…è®¸å‡ºç°å•ç‹¬çš„ " å­—ç¬¦
	// å¦‚æœè®¾ç½®ä¸º 0ï¼Œåˆ™ä¸å…è®¸å‡ºç° \' æˆ– \" å­—ç¬¦ï¼Œä½†å¯ä»¥å‡ºç°å•ç‹¬çš„ ' æˆ– " å­—ç¬¦
	s := `\"ä½ \\å¥½\\å•Š,ä½ æ˜¯\tå“ªä½?\"`
	c, mb, sr, _ := strconv.UnquoteChar(s, '"')
	log.Printf("%-3c %v\n", c, mb)
	log.Println("################")
	for ; len(sr) > 0; c, mb, sr, _ = strconv.UnquoteChar(sr, '"') {
		log.Printf("%-3c %v\n", c, mb)
	}
}

func append1() {
	sli := make([]byte, 0)
	sli = strconv.AppendBool(sli, true)
	sli = strconv.AppendFloat(sli, 0.001, 'f', 6, 64)
	sli = strconv.AppendInt(sli, 111, 10)

	/**
	AppendQuote å°†å­—ç¬¦ä¸² s è½¬æ¢ä¸ºâ€œåŒå¼•å·â€å¼•èµ·æ¥çš„å­—ç¬¦ä¸²ï¼Œ
	å¹¶å°†ç»“æœè¿½åŠ åˆ° dst çš„å°¾éƒ¨ï¼Œè¿”å›è¿½åŠ åçš„ []byte
	å…¶ä¸­çš„ç‰¹æ®Šå­—ç¬¦å°†è¢«è½¬æ¢ä¸ºâ€œè½¬ä¹‰å­—ç¬¦â€
	*/
	sli = strconv.AppendQuote(sli, "å¯¹æ¥å½“ä¸ªäººç”Ÿå‡ ä½•")

	log.Println(string(sli))

}

func main() {
	log.SetFlags(log.LstdFlags | log.Lshortfile)

	//å°†å­—ç¬¦ä¸²è§£ææˆæŒ‡å®šçš„ç±»å‹
	parse()

	//å°†å…¶ä»–ç±»å‹æ ¼å¼åŒ–ä¸ºå­—ç¬¦ä¸²
	format()

	//å°†å…¶ä»–ç±»å‹appendåˆ°[]byteåˆ‡ç‰‡å¹¶è½¬æ¢æˆ[]byte
	append1()

	//å°±æ˜¯å°†å­—ç¬¦çš„ä¸€äº›ç¬¦å·æ¥è¿˜è½¬æ¢
	quote()

	//åˆ¤æ–­ Unicode å­—ç¬¦ r æ˜¯å¦æ˜¯ä¸€ä¸ªå¯æ˜¾ç¤ºçš„å­—ç¬¦
	log.Println(strconv.IsPrint('å“ˆ'))

	//åˆ¤æ–­runeå­—ç¬¦ r æ˜¯å¦æ˜¯ unicode å›¾å½¢å­—ç¬¦ã€‚å›¾å½¢å­—ç¬¦åŒ…æ‹¬å­—æ¯ã€æ ‡è®°ã€æ•°å­—ã€ç¬¦å·ã€æ ‡ç‚¹ã€ç©ºç™½ã€‚
	log.Println(strconv.IsGraphic('1'))  //true
	log.Println(strconv.IsGraphic('a'))  //true
	log.Println(strconv.IsGraphic('å¥½'))  //true
	log.Println(strconv.IsGraphic('â–ˆ'))  //true
	log.Println(strconv.IsGraphic('ğŸ˜')) //true
}
